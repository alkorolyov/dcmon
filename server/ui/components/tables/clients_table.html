<!-- Critical Health Table Component -->
<div class="dashboard-tables-container">
    <div class="metric-table-section">
        <div class="metric-table-container">
            <div class="table-scroll-container">
                <table class="metric-table critical-table">
                    <thead>
                        <tr>
                            <th class="col-status"></th>
                            <th class="col-hostname">Machine</th>
                            {% for col in table_columns %}
                            <th class="{{ col.css_class }}">{{ col.header }}</th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                        {% for client in clients %}
                        <tr class="client-row {{ 'online' if client.is_online else 'offline' }}">
                            <td class="col-status">
                                <div class="status-dot {{ 'online' if client.is_online else 'offline' }}"></div>
                            </td>
                            <td class="col-hostname">
                                <div class="hostname-cell">{{ client.hostname }}</div>
                            </td>
                            {% for col in table_columns %}
                                {% set metric_data = client.metric_values[col.css_class] %}
                                <td class="{{ col.css_class }} critical-data {{ metric_data.status }}">{{ metric_data.formatted }}</td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>